#!/usr/bin/env sh
CONFIG_DIR="$HOME/.config/sketchybar"
PLUGIN_DIR="$CONFIG_DIR/plugins"
ITEMS_DIR="$CONFIG_DIR/items"

source "$CONFIG_DIR/colors.sh"

# CREATE BAR
sketchybar --bar height=55 \
	blur_radius=0 \
	position=bottom \
	sticky=off \
	padding_left=10 \
	padding_right=10 \
	y_offset=0 \
	color=$BACKGROUND

# SET DEFAULTS
sketchybar --default updates=when_shown \
	drawing=on \
	icon.font="SpaceMono Nerd Font:Bold:17.0" \
	icon.color=$ACCENT1 \
	icon.padding_left=4 \
	icon.padding_right=4 \
	label.font="Jetbrains Mono:Bold:15.0" \
	label.color=$FOREGROUND \
	label.padding_left=10 \
	label.padding_right=10 \
	background.drawing=off \
	popup.background.color=$BACKGROUND

# ADD ITEMS
# left
sketchybar --add item space_display left

# center
sketchybar --add item focused_window center

# right
sketchybar --add alias "Amphetamine,Amphetamine" right
sketchybar --add item vpn right
sketchybar --add item sound right
sketchybar --add item battery right
sketchybar --add item wifi right

# ADD SUBSCRIPTIONS
sketchybar --subscribe space_display space_change
sketchybar --subscribe focused_window front_app_switched
sketchybar --subscribe battery system_woke
sketchybar --subscribe sound system_woke volume_change
sketchybar --subscribe wifi system_woke

sketchybar --update

# INITIALIZING ITEMS
source "$ITEMS_DIR/init.sh"

echo "sketchybar configuration loaded.."
