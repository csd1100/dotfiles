#!/usr/bin/env zsh

# default editor
export EDITOR=nvim

# spaceship prompt zsh
export SPACESHIP_PROMPT_ORDER=(
  time          # Time stamps section
  user          # Username section
  dir           # Current directory section
  git           # Git section (git_branch + git_status)
  venv          # virtualenv section
  conda         # conda virtualenv section
  async
  exec_time     # Execution time
  line_sep      # Line break
  exit_code     # Exit code section
  char          # Prompt character
)


# DOCKER PS FORMAT
export DOCKER_FORMAT="\\nID\\t{{.ID}}\\nIMAGE\\t{{.Image}}\\nCOMMAND\\t{{.Command}}\\nCREATED\\t{{.RunningFor}}\\nSTATUS\\t{{.Status}}\\nPORTS\\t{{.Ports}}\\nNAMES\\t{{.Names}}\\n"

# GO
export GOPATH="$HOME/go"
export GOBIN="$GOPATH/bin"

# PATH
export PATH="$HOME/bin:$PATH"
export PATH="$HOME/bin/helpers:$PATH"
export PATH="$HOME/.local/bin:$PATH"
export PATH="$PATH:$GOBIN"

#nvm
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" # This loads nvm

# CONFIG
export CONFIG="$HOME/.config"


unameOut="$(uname -s)"
if [ $unameOut = "Darwin" ]; then
    export JAVA_11_HOME="$(locate -l 1 '/opt/homebrew/Cellar/openjdk@11/*/libexec/openjdk.jdk/Contents/Home')"
    export JAVA_17_HOME="$(locate -l 1 '/opt/homebrew/Cellar/openjdk@17/*/libexec/openjdk.jdk/Contents/Home')"
    export JAVA_19_HOME="$(locate -l 1 '/opt/homebrew/Cellar/openjdk@19/*/libexec/openjdk.jdk/Contents/Home')"
    export JAVA_VERSION="$(java --version | awk -F ' ' 'NR==1{print $2}')"
    export JAVA_HOME=`locate -l 1 "/opt/homebrew/Cellar/openjdk*/${JAVA_VERSION}/libexec/openjdk.jdk/Contents/Home"`
elif [ $unameOut = "Linux" ]; then
    export JAVA_11_HOME="$(locate -l 1 '/usr/lib/jvm/*java-11-openjdk*')"
    export JAVA_17_HOME="$(locate -l 1 '/usr/lib/jvm/*java-17-openjdk*')"
    export JAVA_19_HOME="$(locate -l 1 '/usr/lib/jvm/*java-19-openjdk*')"
    export JAVA_VERSION="$(java --version | awk -F ' ' 'NR==1{print $2}' | cut -d '.' -f1)"
    export JAVA_HOME=`locate -l 1 "/usr/lib/jvm/java-${JAVA_VERSION}-openjdk*"`
fi
# source overrides
if [ -f "$HOME/env/overrides/env-vars" ]
then
    source "$HOME/env/overrides/env-vars"
fi
